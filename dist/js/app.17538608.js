(function(e){function t(t){for(var i,o,r=t[0],u=t[1],l=t[2],v=0,h=[];v<r.length;v++)o=r[v],s[o]&&h.push(s[o][0]),s[o]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);c&&c(t);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,r=1;r<n.length;r++){var u=n[r];0!==s[u]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},s={app:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var c=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var i=n("64a9"),s=n.n(i);s.a},2861:function(e,t,n){"use strict";var i=n("49e4"),s=n.n(i);s.a},"2c96":function(e,t,n){"use strict";var i=n("7196"),s=n.n(i);s.a},"3ed7":function(e,t,n){"use strict";var i=n("9c77"),s=n.n(i);s.a},"43d1":function(e,t,n){},"49e4":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Piano")],1)},a=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("button",{staticClass:"start",on:{click:e.start}},[e._v("⯈")]),n("div",{staticClass:"toggles"},[n("ToggleButton",{model:{value:e.showfq,callback:function(t){e.showfq=t},expression:"showfq"}},[e._v("Frequencies")]),n("ToggleButton",{model:{value:e.showov,callback:function(t){e.showov=t},expression:"showov"}},[e._v("Octave Select")]),n("ToggleButton",{model:{value:e.showwf,callback:function(t){e.showwf=t},expression:"showwf"}},[e._v("Waveform Select")])],1),n("div",{staticClass:"keyboard"},e._l(e.keys,function(t){return n("Key",e._b({key:t.id,attrs:{octave:e.octave,volume:e.volume,wavefm:e.wavefm,showfq:e.showfq,showrs:e.showrs},on:{played:e.played}},"Key",t,!1))}),1),n("div",{staticClass:"controls"},[e.showov?n("Spinner",{attrs:{min:0,max:8,label:"Octave"},model:{value:e.octave,callback:function(t){e.octave=t},expression:"octave"}}):e._e(),n("Slider",{attrs:{min:0,max:.2,step:.01,label:"Volume"},model:{value:e.volume,callback:function(t){e.volume=t},expression:"volume"}}),e.showwf?n("div",[n("label",[e._v("Waveform:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.wavefm,expression:"wavefm"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.wavefm=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"sine"}},[e._v("Sine")]),n("option",{attrs:{value:"square"}},[e._v("Square")]),n("option",{attrs:{value:"sawtooth"}},[e._v("Sawtooth")]),n("option",{attrs:{value:"triangle"}},[e._v("Triangle")])])]):e._e()],1),n("div",{staticClass:"userChoices"},[n("BigButton",{attrs:{disabled:!e.keyPlayed,click:e.keyWorks,title:"This key works",subtitle:"I can hear the tone"}}),n("BigButton",{attrs:{disabled:!e.keyPlayed,click:e.keyBroke,title:"This key is broken",subtitle:"I cannot hear the tone"}})],1)])},r=[],u=(n("ac4d"),n("8a81"),n("55dd"),n("ac6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{attrs:{disabled:e.disabled},on:{click:e.click}},[n("span",[e._v(e._s(e.title))]),n("span",[e._v("("+e._s(e.subtitle)+")")])])}),l=[],c={name:"BigButton",props:{disabled:Boolean,click:Function,title:String,subtitle:String}},v=c,h=(n("2861"),n("2877")),d=Object(h["a"])(v,u,l,!1,null,"5d902b58",null),f=d.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.isBlackKey?"bkey":"wkey",e.active?"active":""],on:{mousedown:e.onmousedown,mouseup:e.onmouseup}},[e.showfq?n("span",{staticClass:"freq"},[e._v(e._s(Math.floor(100*e.frequency)/100))]):e._e(),e.showrs?n("span",{class:["res",e.result?"right":"wrong"]},[e._v("\n        "+e._s(e.result?"✔":"✘")+"\n    ")]):e._e()])},m=[],y=(n("6762"),n("2fdb"),n("c5f6"),["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"]),b=new(window.AudioContext||window.webkitAudioContext),w=b.createOscillator(),k=b.createGain();k.gain.value=0,w.type="square",w.connect(k),k.connect(b.destination),w.start();var _={name:"Key",props:{octave:Number,volume:Number,wavefm:String,showfq:Boolean,showrs:Boolean,keyNum:Number,dudKey:Boolean,active:Boolean,broken:Boolean},computed:{id:function(){return y[this.keyNum>=0?this.keyNum%12:12+this.keyNum]+this.octave},isBlackKey:function(){return this.id.includes("#")},frequency:function(){return Math.pow(2,this.keyNum/12)*Math.pow(2,this.octave-4)*440},result:function(){return this.dudKey==this.broken}},methods:{onmousedown:function(){(this.active||this.showrs)&&(this.dudKey||(w.type=this.wavefm,w.frequency.setValueAtTime(this.frequency,b.currentTime),k.gain.setValueAtTime(+this.volume,b.currentTime)),this.$emit("played",this.showrs?this.keyNum:null))},onmouseup:function(){k.gain.setValueAtTime(0,b.currentTime)}}},g=_,x=(n("2c96"),Object(h["a"])(g,p,m,!1,null,"ccd754b6",null)),K=x.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"slider"},[e.label?n("label",[e._v(e._s(e.label)+":")]):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"range",min:e.min,max:e.max,step:e.step},domProps:{value:e.value},on:{__r:function(t){e.value=t.target.value}}}),n("label",{staticClass:"percent"},[e._v(e._s(Math.floor((e.value-e.min)/(e.max-e.min)*100)+"%"))])])},S=[],N={name:"Slider",props:{label:String,value:Number,min:Number,max:Number,step:Number}},O=N,q=(n("b511"),Object(h["a"])(O,B,S,!1,null,null,null)),T=q.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"spinner"},[e.label?n("label",[e._v(e._s(e.label)+":")]):e._e(),n("div",{staticClass:"wrapper"},[n("button",{on:{click:e.down}},[e._v("-")]),n("span",[e._v(e._s(e.value))]),n("button",{on:{click:e.up}},[e._v("+")])])])},j=[],P={name:"Spinner",props:{label:String,value:Number,max:Number,min:Number,step:{type:Number,default:1}},methods:{up:function(){this.value<this.max&&this.$emit("input",this.value+this.step)},down:function(){this.value>this.min&&this.$emit("input",this.value-this.step)}}},M=P,$=(n("7733"),Object(h["a"])(M,C,j,!1,null,"e4c7132e",null)),I=$.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:{on:e.value},on:{click:function(t){return e.$emit("input",!e.value)}}},[e._v("\n    "+e._s(e.value?"Hide":"Show")+" "),e._t("default")],2)},E=[],F={name:"ToggleButton",props:{value:Boolean}},V=F,W=(n("3ed7"),Object(h["a"])(V,A,E,!1,null,"cdefd0e6",null)),G=W.exports,D=.1,J=4,H={name:"Piano",components:{BigButton:f,Key:K,Slider:T,Spinner:I,ToggleButton:G},data:function(){return{keys:[],octave:4,volume:.2,wavefm:"sine",showfq:!1,showwf:!1,showov:!1,showrs:!1,numKeys:24,choiceMade:!1,keyIndex:-1}},computed:{activeKey:function(){return this.keyIndex<this.keys.length&&this.indexes?this.keys[this.indexes[this.keyIndex]]:null},keyPlayed:function(){return!!this.activeKey&&this.activeKey.played}},watch:{numKeys:function(){this.genKeys()}},methods:{start:function(){this.indexes=Array(this.keys.length);for(var e=0;e<this.indexes.length;e++)this.indexes[e]=e;this.indexes.sort(function(){return.5-Math.random()});var t=!0,n=!1,i=void 0;try{for(var s,a=this.keys[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var o=s.value;o.active=!1,o.broken=!1,o.dudKey=Math.random()<D}}catch(r){n=!0,i=r}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}this.keyIndex=0,this.keys[this.indexes[this.keyIndex]].active=!0,this.showrs=!1},played:function(e){if(e){this.activeKey&&(this.activeKey.active=!1);var t=e+J;this.keys[t].played=!0,this.keys[t].active=!0,this.keyIndex=this.indexes.indexOf(t)}else this.activeKey.played=!0},keyWorks:function(){this.activeKey.broken=!1,this.nextKey()},keyBroke:function(){this.activeKey.broken=!0,this.nextKey()},nextKey:function(){this.showrs||(this.activeKey&&(this.activeKey.active=!1),this.keyIndex++,this.activeKey&&(this.activeKey.active=!0),this.keyIndex>=this.keys.length&&(this.showrs=!0))},genKeys:function(){for(var e=0;e<this.numKeys;e++){var t=e-J,n={keyNum:t,dudKey:Math.random()<D,active:!1,played:!1,broken:!1};this.keys.push(n)}}},created:function(){this.genKeys()}},z=H,L=(n("bdca"),Object(h["a"])(z,o,r,!1,null,null,null)),Q=L.exports,R={name:"app",components:{Piano:Q}},U=R,X=(n("034f"),Object(h["a"])(U,s,a,!1,null,null,null)),Y=X.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(Y)}}).$mount("#app")},"64a9":function(e,t,n){},7196:function(e,t,n){},7733:function(e,t,n){"use strict";var i=n("43d1"),s=n.n(i);s.a},"92ae":function(e,t,n){},"9c77":function(e,t,n){},b511:function(e,t,n){"use strict";var i=n("92ae"),s=n.n(i);s.a},bdca:function(e,t,n){"use strict";var i=n("edef"),s=n.n(i);s.a},edef:function(e,t,n){}});
//# sourceMappingURL=app.17538608.js.map